---
title: Java容器
tags: Java,容器
---


**集合中的clear vs removeAll，当数据量足够大时，如果想移除集合中全部数据，用clear：如果只是移除集合中的一个子集，用removeAll。因为要查找。**
**Set集合是有存储顺序的，对于int、String这类预定义类型，Java按照已定义好的顺序在Set中排列，但是对于自己的对象，必须要给出排序规则，即comparable接口的实现**
**SortSet类确保有序，其内部自动封装了排序和插入**
**HashMap是用链数组实现的，散列是一种极其高效的查找方法，并且在所有的冲突处理中，链数组是唯一一种不需要浪费空间的散列冲突解决方案——因为其他都是数组，要求空间大于数据数量以满足散列的快速查找，但链数组是不需要额外空间的**
**Java中对于基本数据类型包括String在传参的时候，是复制型传递，函数形参是新的对象，与原值无关；而自定义的对象类型，则为引用传递（估计是为了节省空间而作的优化）**
**Java的单线程容器具有快速报错的保护机制，当一个进程正在正常访问容器时，此时如果有另一个进程访问修改更新容器，就会立刻抛出异常，原理很简单，获取迭代器后，又添加了新成员，此时迭代器所持有的表示集合大小标志发生改变，与创建时不同，就抛出异常（应该是每执行一次迭代后移，就检查一次？）**
**持有引用：轻引用、弱引用、虚引用，由强到弱，**
